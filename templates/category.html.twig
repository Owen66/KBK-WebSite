{% extends "baseSecure.html.twig" %}

{% block aboutNavStyle %}current_page{% endblock %}

{% block content %}

    <h1>Categories</h1>
    <button id="popup" onclick="showCreate()">ADD</button>
    <input type="text" id="search" placeholder="Type to search..." />

        <table id="adminTable" class="tablesorter">
            <thead>
            <tr>
                <th>
                    ID
                </th>
                <th>
                    TITLE
                </th>
                <th>
                    SUMMARY
                </th>
            </tr>
            </thead>
            <tbody>
            {% for category in categories %}
                <tr id="{{ category.id }}">
                    <td id = "id">
                        {{ category.id }}
                    </td>
                    <td id = "title">
                        {{ category.title }}
                    </td>
                    <td id = "summary">
                        {{ category.summary }}
                    </td>
                    <td>
                        <button onclick="editCategory({{ category.id }})">EDIT</button>
                    </td>
                    <td>
                        <button onclick="deleteCategory({{ category.id }})">DELETE</button>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>


    <div id="create">
        <div id="popupView">
            <form
                    method="post"
                    action="/createCategory"
                    >

                <h1>Create New Category</h1>

                <p>
                    Title:
                    <input type="text" name="title" autofocus>
                </p>
                <p>
                    Summary:
                    <input type="text" name="summary">
                </p>
                <input type="submit" value="create">
            </form>
            <button onclick="hideCreate()">Close</button>
        </div>
    </div>

    <div id="edit">
        <div id="popupView">
            <form
                    method="post"
                    action="/updateCategory"
                    >

                <h1>Edit Category</h1>

                <p>
                    Title:
                    <input id="eTitle" type="text" name="title" autofocus>
                </p>
                <p>
                    Summary:
                    <input id="eSummary" type="text" name="summary">
                </p>
                <input id="eId" type="hidden" name="id">
                <input type="submit" value="update">
            </form>
            <button onclick="hideEdit()">Close</button>
        </div>
    </div>

{% endblock %}
